{
	"type": "excalidraw",
	"version": 2,
	"source": "unrag-handbook",
	"elements": [
		{
			"id": "title",
			"type": "text",
			"x": 240,
			"y": 20,
			"width": 340,
			"height": 35,
			"text": "Prompt Injection via Retrieval",
			"fontSize": 28,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#1e1e1e"
		},
		{
			"id": "user-box",
			"type": "rectangle",
			"x": 50,
			"y": 100,
			"width": 100,
			"height": 50,
			"backgroundColor": "#d3f9d8",
			"strokeColor": "#2f9e44",
			"fillStyle": "solid",
			"strokeWidth": 2
		},
		{
			"id": "user-text",
			"type": "text",
			"x": 60,
			"y": 115,
			"width": 80,
			"height": 25,
			"text": "User üë§",
			"fontSize": 16,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#2f9e44"
		},
		{
			"id": "query-arrow",
			"type": "arrow",
			"x": 155,
			"y": 125,
			"width": 60,
			"height": 0,
			"strokeColor": "#2f9e44",
			"strokeWidth": 2,
			"points": [[0, 0], [60, 0]]
		},
		{
			"id": "query-label",
			"type": "text",
			"x": 155,
			"y": 105,
			"width": 80,
			"height": 18,
			"text": "innocent query",
			"fontSize": 11,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#495057"
		},
		{
			"id": "retrieval-box",
			"type": "rectangle",
			"x": 220,
			"y": 90,
			"width": 120,
			"height": 70,
			"backgroundColor": "#e7f5ff",
			"strokeColor": "#339af0",
			"fillStyle": "solid",
			"strokeWidth": 2
		},
		{
			"id": "retrieval-text",
			"type": "text",
			"x": 230,
			"y": 115,
			"width": 100,
			"height": 25,
			"text": "Retrieval",
			"fontSize": 18,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#1864ab"
		},
		{
			"id": "corpus-box",
			"type": "rectangle",
			"x": 220,
			"y": 200,
			"width": 120,
			"height": 100,
			"backgroundColor": "#f8f9fa",
			"strokeColor": "#868e96",
			"fillStyle": "solid",
			"strokeWidth": 1
		},
		{
			"id": "corpus-title",
			"type": "text",
			"x": 240,
			"y": 208,
			"width": 80,
			"height": 18,
			"text": "Corpus",
			"fontSize": 14,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#495057"
		},
		{
			"id": "good-doc",
			"type": "rectangle",
			"x": 230,
			"y": 230,
			"width": 100,
			"height": 25,
			"backgroundColor": "#d3f9d8",
			"strokeColor": "#2f9e44",
			"fillStyle": "solid",
			"strokeWidth": 1
		},
		{
			"id": "good-doc-text",
			"type": "text",
			"x": 240,
			"y": 235,
			"width": 80,
			"height": 18,
			"text": "good doc",
			"fontSize": 11,
			"fontFamily": 3,
			"textAlign": "center",
			"strokeColor": "#2f9e44"
		},
		{
			"id": "poison-doc",
			"type": "rectangle",
			"x": 230,
			"y": 260,
			"width": 100,
			"height": 35,
			"backgroundColor": "#ffe3e3",
			"strokeColor": "#e03131",
			"fillStyle": "solid",
			"strokeWidth": 2
		},
		{
			"id": "poison-doc-text",
			"type": "text",
			"x": 235,
			"y": 268,
			"width": 90,
			"height": 18,
			"text": "‚ò†Ô∏è poisoned",
			"fontSize": 11,
			"fontFamily": 3,
			"textAlign": "center",
			"strokeColor": "#e03131"
		},
		{
			"id": "corpus-arrow",
			"type": "arrow",
			"x": 280,
			"y": 165,
			"width": 0,
			"height": 30,
			"strokeColor": "#868e96",
			"strokeWidth": 1,
			"points": [[0, 0], [0, 30]]
		},
		{
			"id": "retrieves-arrow",
			"type": "arrow",
			"x": 345,
			"y": 125,
			"width": 70,
			"height": 0,
			"strokeColor": "#e03131",
			"strokeWidth": 2,
			"points": [[0, 0], [70, 0]]
		},
		{
			"id": "retrieves-label",
			"type": "text",
			"x": 350,
			"y": 105,
			"width": 65,
			"height": 18,
			"text": "retrieves",
			"fontSize": 11,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#e03131"
		},
		{
			"id": "llm-box",
			"type": "rectangle",
			"x": 420,
			"y": 80,
			"width": 160,
			"height": 90,
			"backgroundColor": "#fff3bf",
			"strokeColor": "#e67700",
			"fillStyle": "solid",
			"strokeWidth": 2
		},
		{
			"id": "llm-title",
			"type": "text",
			"x": 460,
			"y": 90,
			"width": 80,
			"height": 25,
			"text": "LLM",
			"fontSize": 18,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#e67700"
		},
		{
			"id": "prompt-text",
			"type": "text",
			"x": 430,
			"y": 115,
			"width": 140,
			"height": 50,
			"text": "System: Be helpful\nContext: [poison]\n\"Ignore previous...\"",
			"fontSize": 10,
			"fontFamily": 3,
			"textAlign": "left",
			"strokeColor": "#495057"
		},
		{
			"id": "response-arrow",
			"type": "arrow",
			"x": 585,
			"y": 125,
			"width": 60,
			"height": 0,
			"strokeColor": "#e03131",
			"strokeWidth": 2,
			"points": [[0, 0], [60, 0]]
		},
		{
			"id": "bad-response-box",
			"type": "rectangle",
			"x": 650,
			"y": 90,
			"width": 120,
			"height": 70,
			"backgroundColor": "#ffe3e3",
			"strokeColor": "#e03131",
			"fillStyle": "solid",
			"strokeWidth": 2
		},
		{
			"id": "bad-response-text",
			"type": "text",
			"x": 660,
			"y": 110,
			"width": 100,
			"height": 35,
			"text": "‚ö†Ô∏è Injected\nBehavior",
			"fontSize": 14,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#e03131"
		},
		{
			"id": "attacker-box",
			"type": "rectangle",
			"x": 50,
			"y": 230,
			"width": 100,
			"height": 50,
			"backgroundColor": "#ffe3e3",
			"strokeColor": "#e03131",
			"fillStyle": "solid",
			"strokeWidth": 2
		},
		{
			"id": "attacker-text",
			"type": "text",
			"x": 55,
			"y": 245,
			"width": 90,
			"height": 25,
			"text": "Attacker ü¶π",
			"fontSize": 14,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#e03131"
		},
		{
			"id": "upload-arrow",
			"type": "arrow",
			"x": 155,
			"y": 260,
			"width": 60,
			"height": 25,
			"strokeColor": "#e03131",
			"strokeWidth": 2,
			"points": [[0, 0], [60, 15]]
		},
		{
			"id": "upload-label",
			"type": "text",
			"x": 135,
			"y": 285,
			"width": 85,
			"height": 18,
			"text": "uploads earlier",
			"fontSize": 10,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#e03131"
		},
		{
			"id": "note",
			"type": "text",
			"x": 250,
			"y": 330,
			"width": 350,
			"height": 20,
			"text": "Injection comes from corpus, not the querying user",
			"fontSize": 12,
			"fontFamily": 1,
			"textAlign": "center",
			"strokeColor": "#868e96"
		}
	],
	"appState": {
		"viewBackgroundColor": "#ffffff",
		"gridSize": null
	}
}
