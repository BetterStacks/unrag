@import 'tailwindcss';
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';

/*
  Fumadocs UI theme overrides

  Fumadocs exposes its design tokens as CSS variables (e.g. --color-fd-background).
  We override them here to make the default neutral theme significantly darker.

  Ref: https://www.fumadocs.dev/docs/ui/theme
*/

@theme {
  /* Fonts (Next.js optimized via `next/font`) */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Darker "neutral" (still considered light mode) */
  --color-fd-background: hsl(0, 0%, 92%);
  --color-fd-foreground: hsl(0, 0%, 7%);
  --color-fd-muted: hsl(0, 0%, 88%);
  --color-fd-muted-foreground: hsl(0, 0%, 34%);
  --color-fd-popover: hsl(0, 0%, 90%);
  --color-fd-popover-foreground: hsl(0, 0%, 10%);
  --color-fd-card: hsl(0, 0%, 89%);
  --color-fd-card-foreground: hsl(0, 0%, 7%);
  --color-fd-border: hsla(0, 0%, 20%, 0.18);
  --color-fd-primary: hsl(0, 0%, 10%);
  --color-fd-primary-foreground: hsl(0, 0%, 98%);
  --color-fd-secondary: hsl(0, 0%, 86%);
  --color-fd-secondary-foreground: hsl(0, 0%, 10%);
  --color-fd-accent: hsla(0, 0%, 20%, 0.10);
  --color-fd-accent-foreground: hsl(0, 0%, 10%);
  --color-fd-ring: hsl(0, 0%, 45%);
}

.dark {
  /*
    Deep black high-contrast palette (Unkey-inspired)
    - true black backgrounds
    - barely-lifted surfaces
    - crisp white typography
    - very subtle borders
  */
  --unrag-ink: hsl(0, 0%, 2%);
  --unrag-base: var(--unrag-ink);
  --unrag-surface-1: hsl(0, 0%, 4%);
  --unrag-surface-2: hsl(0, 0%, 6%);
  --unrag-surface-3: hsl(0, 0%, 8%);
  --unrag-fg: hsl(0, 0%, 98%);
  --unrag-fg-muted: hsla(0, 0%, 100%, 0.55);

  /* Map palette to Fumadocs tokens */
  --color-fd-background: var(--unrag-base);
  --color-fd-foreground: var(--unrag-fg);

  /* Elevated surfaces */
  --color-fd-card: var(--unrag-surface-1);
  --color-fd-card-foreground: var(--unrag-fg);
  --color-fd-popover: var(--unrag-surface-2);
  --color-fd-popover-foreground: var(--unrag-fg);

  --color-fd-muted: var(--unrag-surface-3);
  --color-fd-muted-foreground: var(--unrag-fg-muted);

  --color-fd-border: hsla(0, 0%, 100%, 0.07);

  /* Accents */
  --color-fd-primary: var(--unrag-fg);
  --color-fd-primary-foreground: hsl(0, 0%, 2%);
  --color-fd-secondary: hsla(0, 0%, 100%, 0.04);
  --color-fd-secondary-foreground: var(--unrag-fg);
  --color-fd-accent: hsla(0, 0%, 100%, 0.05);
  --color-fd-accent-foreground: var(--unrag-fg);
  --color-fd-ring: hsla(0, 0%, 100%, 0.20);
}

/* Fumadocs' `neutral.css` tweaks the sidebar with a more specific selector; override that too. */
.dark #nd-sidebar {
  /* Keep sidebar extremely dark and very close to main content */
  background-color: var(--color-fd-background);
  --color-fd-muted-foreground: var(--unrag-fg-muted);
}
